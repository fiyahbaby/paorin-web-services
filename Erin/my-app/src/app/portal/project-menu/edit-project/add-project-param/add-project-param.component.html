<app-navbar></app-navbar>
<div id="add-project-param">
    <app-header formHeader="Add Project Parameters"
        formSubHeader="Project Menu > Edit Project > Add Project Parameters"></app-header>
    <p-card class="w-12 h-full card-header" id="project-p-card">
        <!-- <div class="w-full flex justify-content-end buttons-container bottom">
            <ng-container *ngTemplateOutlet="buttons"></ng-container>
        </div> -->
        <div class="w-full mb-2">
            <p-header>
                <h1 id="p-header" class="mt-0 mb-3 p-0 text-black-alpha-90" style="font-size: 18px">
                    Selected Project
                </h1>
            </p-header>
            <p-table [value]="[selectedProject]" styleClass="p-datatable-gridlines">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 20rem; text-align: center">Device</th>
                        <th style="width: 20rem; text-align: center">Revision</th>
                        <th style="width: 20rem; text-align: center">Test Type</th>
                        <th style="width: 20rem; text-align: center">Block</th>
                        <th style="width: 20rem; text-align: center">Date created</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-selectedProject>
                    <tr>
                        <td style="text-align: center">{{ selectedProject.project }}</td>
                        <td style="text-align: center">{{ selectedProject.revision }}</td>
                        <td style="text-align: center">{{ selectedProject.testType }}</td>
                        <td style="text-align: center">{{ selectedProject.block }}</td>
                        <td style="text-align: center">{{ selectedProject.dateCreated }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
        <p-divider class="w-full"></p-divider>
        <div class="w-full">
            <p-header>
                <h1 id="p-header" class="mt-0 mb-3 p-0 text-black-alpha-90" style="font-size: 18px">
                    Add Parameters
                </h1>
            </p-header>
            <p-accordion [multiple]="true" class="w-full mt-3">
                <p-accordionTab header="Voltage">

                </p-accordionTab>
                <p-accordionTab header="Temperature">

                </p-accordionTab>
                <p-accordionTab header="Test List">

                </p-accordionTab>
                <p-accordionTab header="Unit">
                    <form [formGroup]="addUnitForm">
                        <div class="w-full">
                            <span>
                                <p id="p-header" class="mt-0 mb-3 p-0 text-black-alpha-90" style="font-size: 18px">
                                    Add Unit Details
                                </p>
                            </span>
                            <p-table [value]="unit" styleClass="p-datatable-gridlines">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th style="text-align: center; width: 5rem;">Number</th>
                                        <th style="text-align: center; width: 10rem;">Process Corner</th>
                                        <th style="text-align: center">2D Bar Code</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body">
                                    <tr *ngFor="let item of unit; let i = index">
                                        <td style="text-align: center">{{ i + 1 }}</td>
                                        <td style="text-align: center">
                                            <input pInputText type="text" formControlName="processCorner"
                                                class="w-full">
                                        </td>
                                        <td style="text-align: center">
                                            <input pInputText type="text" formControlName="barCode" class="w-6">
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                            <div class="flex flex-column align-items-end">
                                <p-button id="add-row-button" label="Add Row" icon="pi pi-plus" (click)="addRow()"
                                    class="mt-1"></p-button>
                            </div>
                        </div>
                    </form>
                </p-accordionTab>
            </p-accordion>
        </div>
        <div class="mt-3 w-full flex justify-content-end buttons-container bottom">
            <ng-container *ngTemplateOutlet="buttons"></ng-container>
        </div>
    </p-card>
</div>

<ng-template #buttons>
    <p-button label="Back" styleClass="p-button-danger" type="button" (onClick)="onBack()"></p-button>
    <p-button label="Submit" styleClass="p-button-success" type="submit" (onClick)="onSubmit()"></p-button>
</ng-template>